<html>

  <head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300,500,700&display=swap" rel="stylesheet" />
  </head>
  <style>
      body{
          margin: 0;
          font-family: Poppins;
      }
      
      .main-wrapper {
          background: url({{ url_for('static', filename='backgroundarrows.png') }});
          height: 100vh;
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
      }

      .feature-box {
          background: white;
          border-radius: 15px;
          height: 500px;
          width: 600px;
          box-shadow: 0px 0px 20px 0px #9BCBEB;
          display: flex;
      }

      .left-wrapper {
          width: 299px;
          height: 500px;
          border-right: 2px solid #003865;
      }

      .right-wrapper {
          width: 299px;
          height: 500px;
      }

      .header-text {
          color: #003865;
          font-weight: 500;
          font-size: 20px;
          margin: 20px;
      }

      .chat-preview-wrapper {
          display: flex;
          align-items: center;
      }

      .chat-preview-photo {
        max-height: 30px;
        max-width: 30px;
        object-fit: cover;
        border-radius: 20px;
      }

      .chat-preview-text {
          font-size: 15px;
          color:#003865;
          font-weight: 500;
          font-family: Poppins;
          margin-left: 12px;
      }

      .chat-preview-form {
          margin: 0;
      }

      .chat-preview-button {
          cursor: pointer;
          border: none;
          background: none;
          padding: 12px 20px;
          border-radius: 10px;
          background: white;
          transition: 0.2s ease-in-out;
          width: 100%;
      }

      .chat-preview-button:hover {
          background: #dee7ee;
      }
  </style>

<body> 
    <div class="main-wrapper">
        <div class="feature-box">
            <div class="left-wrapper">
                <div class="header-text">
                    Your Conversations
                </div>
                {% for chat_data in all_chats %}
                <form class="chat-preview-form" action="/messengerClient/{{current_user.user_id}}/{{chat_data[0].chat_id}}">
                    <button class="chat-preview-button">
                        <div class="chat-preview-wrapper">
                            <img class="chat-preview-photo" src="{{chat_data[1].photo}}" align="middle" />
                            <div class="chat-preview-text">{{chat_data[1].user_name}}</div>
                        </div>
                    </button>
                </form>
                {% endfor %}
            </div>
            <div class="right-wrapper">
                <div class="header-text">
                    {% if selected_chat == [] %}
                    <i>No chat selected</i>
                    {% else %}
                    {{other_user.user_name}}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</body>


</html>
