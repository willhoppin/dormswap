<html>

  <head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300,500,700&display=swap" rel="stylesheet" />
  </head>
  <style>
    body{ 
      font-size: 15pt;
      font-family: arial;
      margin: 0;
      overflow-x: hidden;
      font-family: Poppins;
    }

    .main-wrapper {
      display: flex;
      flex-direction: column-reverse;
    }

    .top-wrapper {
      box-shadow: 0px 0px 15px 0px #9BCBEB;
      background: white;
      position: fixed !important;
      top: 0 !important;
      width: 100%;
      justify-content: space-between;
      display: flex;
      align-items: center;
      z-index: 1;
    }

    .top-wrapper-attributes {
      box-shadow: 0px 0px 15px 0px #9BCBEB;
      background: white;
      position: fixed !important;
      top: 0 !important;
      width: 100%;
      justify-content: space-between;
      display: flex;
      align-items: center;
      z-index: 1;
    }

    .top-wrapper-left {
      display: flex;
      align-items: center;
    }

    .top-wrapper-right {
      display: flex;
      align-items: center;
    }

    .left-wrapper {
      box-shadow: 0px 0px 15px 0px #9BCBEB;
      width: 210px;
      height: 100vh;
      background: white;
      position: fixed;
      z-index: -1;
      top: 0;
    }

    .logo-text-wrapper {
      display: flex;
      align-items: center;
      padding: 10px;
    }
    
    .logo-image {
      width: 35px;
      border-radius: 23px;
      box-shadow: 0px 0px 15px 0px #c3e4fa;
      margin-right: 10px;
    }

    .logo-text {
      color:#003865;
      font-size:25px;
      font-weight: 700;
      margin-right: 20px;
    }

    .search-wrapper {
      background-color: #ebebeb;
      border-radius: 7px;
      display: flex;
      align-items: center;
      margin-right: 20px;
    }

    .search-text {
      color: #979797;
      font-size: 14px;
      padding: 5px 20px 5px 5px;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }

    .top-bar-form {
      margin: 0;
      display: flex;
      align-items: center;
    }

    .search-icon {
      width: 15px;
      height: 15px;
      margin: 0 5px 0 10px;
    }

    .filters-wrapper {
      display: flex;
      color: #003865;
      font-size: 14px;
    }

    .filter-button-text {
      white-space: nowrap;
      font-family: Poppins;
      color: #003865;
    }

    .filters-text {
      font-weight: 500;
      margin-right: 10px;
      margin-left: 20px;
      margin-top: 3px;
      white-space: nowrap;
    }

    .filter-button-icon {
      max-height: 12px;
      max-width: 12px;
      margin-right: 5px;
      object-fit: cover;
    }

    .profile-menu-wrapper {
      display: flex;
      align-items: center;
      padding: 8px;
      border-radius: 7px;
      transition: 0.2s ease-in-out;
      margin-right: 10px;
    }

    .profile-menu-text {
      font-weight: 500;
      font-size: 15px;
      color: #003865;
      margin: 0 10px 0 15px;
    }

    .profile-menu-caret {
      max-height: 12px;
      max-width: 12px;
      object-fit: cover;
    }

    .profile-menu-photo {
      max-height: 35px;
      max-width: 35px;
      object-fit: cover;
      border-radius: 20px;
    }

    .filter-button {
      display: flex;
      align-items: center;
      margin-right: 5px;
      border-radius: 30px;
      transition: 0.2s ease-in-out;
      padding: 3px 7px;
      border: none;
      background: white;
    }

    .filter-button:hover {
      background: #d3dce2;
      cursor: pointer;
    }

    .new-listing-btn-wrapper {
      padding-top: 60px;
      position: fixed;
    }

    .new-listing-btn {
      display: flex;
      align-items: center;
      background: #003865;
      border-radius: 7px;
      margin: 10px;
      justify-content: center;
      padding: 8px;
      transition: 0.2s ease-in-out;
      width: 175px;
    }

    .new-listing-btn:hover {
      cursor: pointer;
      background: #2d6897;
    }

    .new-listing-btn-text {
      color: white;
      font-weight: 500;
      font-size: 16px;
    }

    .new-listing-btn-icon {
      max-height: 15px;
      max-width: 15px;
      object-fit: cover;
      margin-right: 10px;
    }

    .messenger-text {
      font-weight: 500;
      font-size: 16px;
      color: #003865;
      margin-left: 10px;
      margin-top: 130px;
    }

    .item-pane-wrapper {
      margin-left: 230px;
      margin-top: 75px;
      display: flex;
      flex-wrap: wrap;
    }

    .item-feature-wrapper {
      height: 170px;
      border: none;
      width: 170px;
      border-radius: 10px;
      margin: 0 20px 20px 0;
      box-shadow: 0px 0px 8px 0px #9BCBEB;
      transition: 0.2s ease-in-out;
      padding: 0 !important;
      background: white;
      font-family: Poppins;
      text-align: left;
    }

    .item-feature-wrapper:hover {
      cursor: pointer;
      box-shadow: 0px 0px 15px 0px #78a9ca;
    }

    .email-time {
      margin-top: 10px;
      margin-left: 30px;
    }

    .item-feature-top {
      height: 110px;
      width: 170px;
      margin-top: -7px;
    }

    .item-feature-photo {
      object-fit: cover;
      height: 100%;
      width: 170px;
      border-radius: 10px 10px 0 0;
    }

    .item-feature-white-heart {
      position: absolute;
      max-width: 30px;
      max-height: 30px;
      object-fit: cover;
      margin-left: -40px;
      margin-top: 10px;
      cursor: pointer;
      transition: 0.2s ease-in-out;
    }

    .item-feature-white-heart:hover {
      opacity: 0.8;
    }

    .item-feature-bottom-text {
      font-weight: 500;
      font-size: 13px;
      color: #003865;
      margin: 5px 10px 5px 10px;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }

    .item-feature-desc-text {
      font-weight: 500;
      font-size: 10px;
      color: #8f8f8f;
      margin: 5px 10px 5px 10px;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;  
      overflow: hidden;
    }

    .item-feature-bottom-data-wrapper {
      display: flex;
      margin-left: 8px;

    }

    .item-feature-bottom-icon {
      max-width: 14px;
      max-height: 14px;
      object-fit: cover;
      margin: 0 3px;
    }

    .item-feature-bottom-standard-wrapper {
      display: flex;
      align-items: center;
    }

    .item-feature-bottom-money-wrapper {
      display: flex;
      align-items: center;
      margin-right: 5px;
    }

    .item-feature-bottom-text-standard {
      color: #9B9B9B;
      font-size: 12px;
      margin-right: 5px;
      margin-left: 1px;
    }

    .item-feature-bottom-text-white {
      color: white;
      font-size: 12px;
      margin-right: 3px;
      margin-left: 1px;
    }

    .item-feature-bottom-money-wrapper {
      background: #003865;
      border-radius: 5px;
      padding: 3px;
    }

    .search-bar-input {
      width: 500px;
      border: none;
      padding: 10px;
      font-family: Poppins;
    }

    .login-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-size: cover;
      background: url({{ url_for('static', filename='backgroundarrows.png') }});
    }

    .login-top-row-wrapper {
      display: flex;
      justify-content: space-between;
      margin: 10px 0 20px 30px;
      align-items: center;
    }

    .login-main-box {
      width: 600px;
      box-shadow: 0px 0px 15px 0px #9BCBEB;
      border-radius: 15px;
      background: white;
    }

    .login-form-wrapper {
      margin: 0 32px;
    }

    .form-title {
      color: #003865;
      font-size: 14px;
      font-weight: 500;
    }

    .login-submit-btn {
      border: none;
      background: #003865;
      color: white;
      font-weight: 500;
      border-radius: 5px;
      padding: 5px 10px;
      cursor: pointer;
      height: 30px;
      font-family: Poppins;
      transition: 0.2s ease-in-out;
    }

    .create-account-btn {
      border: none;
      background: white;
      color: #003865;
      font-weight: 500;
      border-radius: 5px;
      padding: 5px 10px;
      cursor: pointer;
      height: 30px;
      font-family: Poppins;
      transition: 0.2s ease-in-out;
      box-shadow: 0px 0px 15px 0px #9BCBEB;
    }

    .create-account-btn:hover {
      background: rgb(223, 223, 223);
    }

    .login-submit-btn:hover {
      opacity: 0.8;
    }

    .login-input {
      margin: 10px 0;
      height: 30px;
      background: rgb(236, 236, 236);
      border-radius: 5px;
    }

    .login-form {
      display: flex;
      flex-direction: column;
    }
  </style>


<body> 

  {% if user_logged_in %}
  <div class="main-wrapper">
    <div class="top-wrapper top-wrapper-attributes">
      <div class="top-wrapper-left">
        <div class="logo-text-wrapper">
          <img class="logo-image" src="{{url_for('static', filename='lion.png')}}" align="middle" />
          <div class="logo-text">
            DormSwap
          </div>
        </div>
        <form class="top-bar-form" action="/sortSearch/{{current_user.user_id}}" method="POST">
            <input class="login-input search-bar-input" placeholder="ðŸ”Ž Search for used items for sale on Columbia University's campus..." type="text" name="name">
        </form>
        <div class="filters-wrapper">
          <div class="filters-text">Sort By:</div>
          <form class="top-bar-form" action="/sortLikes/{{current_user.user_id}}">
            <button class="filter-button">
              <img class="filter-button-icon" src="{{url_for('static', filename='heart.png')}}" align="middle" />
              <div class="filter-button-text">Likes</div>
            </button>
          </form>
          <form class="top-bar-form" action="/sortViews/{{current_user.user_id}}">
            <button class="filter-button">
              <img class="filter-button-icon" src="{{url_for('static', filename='eye.png')}}" align="middle" />
              <div class="filter-button-text">Views</div>
            </button>
          </form>
          <form class="top-bar-form" action="/sortReviews/{{current_user.user_id}}">
            <button class="filter-button">
              <img class="filter-button-icon" src="{{url_for('static', filename='star.png')}}" align="middle" />
              <div class="filter-button-text">Seller Reviews</div>
            </button>
          </form>
          <form class="top-bar-form" action="/sortPrice/{{current_user.user_id}}">
            <button class="filter-button">
              <img class="filter-button-icon" src="{{url_for('static', filename='money.png')}}" align="middle" />
              <div class="filter-button-text">Price</div>
            </button>
          </form>
        </div>
      </div>
      <div class="top-wrapper-right">
        <div class="profile-menu-wrapper">
          <img class="profile-menu-photo" src="{{current_user.photo}}" align="middle" />
          <div class="profile-menu-text">{{current_user.user_name}}</div>
        </div>
        <form class="top-bar-form" action="/logIn">
          <button class="filter-button">
            <img class="filter-button-icon" src="{{url_for('static', filename='logout.png')}}" align="middle" />
            <div class="filter-button-text">Logout</div>
          </button>
        </form>
      </div>
    </div>
    <div class="body-wrapper">
      <div class="left-wrapper">
        <div class="new-listing-btn-wrapper">
          <div class="new-listing-btn">
            <img class="new-listing-btn-icon" src="{{url_for('static', filename='plus.png')}}" align="middle" />
            <div class="new-listing-btn-text">New Listing</div>
          </div>
        </div>
        <div class="messenger-text">Messenger</div>
      </div>
      <!--
      <div class="new-listing-btn-wrapper">
          <form class="login-form" method="POST" action="/accountCreator">
            <div class="form-title">Title</div>
            <input class="login-input" placeholder="Thing" type="text" name="username">
            <div class="form-title">Description</div>
            <input class="login-input" placeholder="This thing is good" type="text" name="email">
            <div class="form-title">Asking Price</div>
            <input class="login-input" placeholder="$100" type="text" name="address">
            <div class="form-title">Photo URL</div>
            <input class="login-input" placeholder="images.thing.com/thing" type="text" name="photo">
            <input class="login-submit-btn" type="submit" value="New Listing">
        </form>
      </div>
      -->
      <div class="item-pane-wrapper">
          {% for item in items %}
          <form action="/viewItem/{{current_user.user_id}}/{{item.item_id}}">
            <button class="item-feature-wrapper">
              <div class="item-feature-top">
                <img class="item-feature-photo" src="{{item.item_photo}}" align="middle" />
                <img class="item-feature-white-heart" src="{{url_for('static', filename='whiteheart.png')}}" align="middle" />
              </div>
              <div class="item-feature-bottom">
                <div class="item-feature-bottom-text">{{item.item_name}}</div>
                <!--
                <div class="item-feature-desc-text">{{item.description}}</div>
                -->
                <div class="item-feature-bottom-data-wrapper">
                  <div class="item-feature-bottom-money-wrapper">
                    <img class="item-feature-bottom-icon" src="{{url_for('static', filename='whitemoney.png')}}" align="middle" />
                    <div class="item-feature-bottom-text-white">{{item.price}}</div>
                  </div>
                  <div class="item-feature-bottom-standard-wrapper">
                    <img class="item-feature-bottom-icon" src="{{url_for('static', filename='grayeye.png')}}" align="middle" />
                    <div class="item-feature-bottom-text-standard">{{item.views}}</div>
                  </div>
                  <div class="item-feature-bottom-standard-wrapper">
                    <img class="item-feature-bottom-icon" src="{{url_for('static', filename='grayheart.png')}}" align="middle" />
                    <div class="item-feature-bottom-text-standard">{{item.likes}}</div>
                  </div>
                </div>
                <!--
                <form class="top-bar-form email-time" action="/emailUser/{{current_user.user_id}}">
                  <button class="filter-button">
                    <img class="filter-button-icon" src="{{url_for('static', filename='email.png')}}" align="middle" />
                    <div class="filter-button-text">Email User</div>
                  </button>
                </form>
                -->
              </div>
            </button>
          </form>
          {% endfor %}
      </div>
    </div>
  </div>

  {% else %}
  <div class="login-wrapper">
    <div class="login-main-box">
      <div class="login-top-row-wrapper">
        <div class="logo-text">Login</div>
        <div class="logo-text-wrapper">
          <img class="logo-image" src="{{url_for('static', filename='lion.png')}}" align="middle" />
          <div class="logo-text">
            DormSwap
          </div>
        </div>
      </div>
      <div class="login-form-wrapper">
        <div class="form-title">Email</div>
        <form class="login-form" method="POST" action="/logInWInput">
          <input class="login-input" placeholder="you@columbia.edu" type="text" name="name">
          <input class="login-submit-btn" type="submit" value="Login">
        </form>
        <form action="/createAccount">
          <input class="create-account-btn" type="submit" value="Not a user yet? Create Account">
        </form>
      </div>
    </div>
  </div>

  {% endif %}

</body>


</html>
